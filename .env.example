# === Hiddify Manager Auto-Deploy v2.0 - Configuration Template ===
# Скопируйте этот файл в .env и заполните реальными данными

# ═══════════════════════════════════════════════════════════════
# СЕРВЕР
# ═══════════════════════════════════════════════════════════════
VPS_IP=your.vps.ip.here
VPS_SSH_PORT=22
VPS_SSH_USER=root
VPS_SSH_KEY_PATH=~/.ssh/id_ed25519

# ═══════════════════════════════════════════════════════════════
# ДОМЕН И TLS
# ═══════════════════════════════════════════════════════════════
# Основной домен панели Hiddify
PANEL_DOMAIN=panel.yourdomain.ru

# Reality destination (должен быть доступен из РФ)
# Рекомендуемые: www.apple.com:443, www.microsoft.com:443
REALITY_DEST=www.apple.com:443

# SNI список для Reality (через запятую)
REALITY_SNI_LIST=apple.com,www.apple.com

# Email для Let's Encrypt (ACME сертификатов)
ACME_EMAIL=you@example.com

# ═══════════════════════════════════════════════════════════════
# TELEGRAM БОТ v2.0
# ═══════════════════════════════════════════════════════════════
# Токен от @BotFather (создать бота: /newbot)
TELEGRAM_BOT_TOKEN=123456789:AAH_YourBotTokenHere

# Ваш Telegram ID (узнать: @userinfobot)
TELEGRAM_ADMIN_ID=987654321

# Включить Telegram Proxy (true/false)
TELEGRAM_PROXY_ENABLED=true

# ═══════════════════════════════════════════════════════════════
# ПРОТОКОЛЫ (включить=1, выключить=0)
# ═══════════════════════════════════════════════════════════════
# VLESS-Reality (приоритетный протокол для РФ)
ENABLE_VLESS_REALITY=1

# Hysteria2 (для мобильных сетей)
ENABLE_HYSTERIA2=1

# Shadowsocks-2022 (резервный протокол)
ENABLE_SS2022=1

# WireGuard с обфускацией (экспериментальный)
ENABLE_WIREGUARD_OBFUSCATED=0

# ═══════════════════════════════════════════════════════════════
# ПОЛЬЗОВАТЕЛИ (настройки по умолчанию)
# ═══════════════════════════════════════════════════════════════
# Лимит трафика для новых пользователей (в GB)
DEFAULT_DATA_LIMIT_GB=100

# Срок действия подписки по умолчанию (в днях)
DEFAULT_EXPIRY_DAYS=30

# Количество дней для блокировки истёкших пользователей
GRACE_PERIOD_DAYS=7

# ═══════════════════════════════════════════════════════════════
# БАЗА ДАННЫХ
# ═══════════════════════════════════════════════════════════════
# Путь к SQLite БД на VPS
DB_PATH=/opt/hiddify-manager/data/bot.db

# Путь к логам бота
BOT_LOG_PATH=/opt/hiddify-manager/logs/bot.log

# ═══════════════════════════════════════════════════════════════
# МОНИТОРИНГ И АЛЕРТЫ
# ═══════════════════════════════════════════════════════════════
# Интервал проверки connectivity (в минутах)
CONNECTIVITY_CHECK_INTERVAL=5

# Порог timeout'ов для авто-ротации серверов
TIMEOUT_THRESHOLD=3

# Включить мониторинг диска (true/false)
ENABLE_DISK_MONITORING=true

# Порог заполнения диска для алерта (%)
DISK_ALERT_THRESHOLD=80

# ═══════════════════════════════════════════════════════════════
# РАЗВЁРТЫВАНИЕ
# ═══════════════════════════════════════════════════════════════
# Версия Hiddify Manager
HIDDIFY_VERSION=v8.99.0

# Клонировать репозиторий при деплое (true/false)
CLONE_ON_DEPLOY=true

# Branch для клонирования
GIT_BRANCH=main

# ═══════════════════════════════════════════════════════════════
# ADVANCED (обычно не требует изменений)
# ═══════════════════════════════════════════════════════════════
# Docker registry
DOCKER_REGISTRY=ghcr.io/hiddify

# Путь установки на VPS
INSTALL_PATH=/opt/hiddify-manager

# Временная зона для логов
TZ=Europe/Moscow

# ═══════════════════════════════════════════════════════════════
# ЗАМЕЧАНИЯ
# ═══════════════════════════════════════════════════════════════
# 1. После заполнения: cp .env.example .env
# 2. Проверьте все обязательные поля (без значений "your.*")
# 3._sensitive данные (токены, ключи) никогда не коммитить в git
# 4. Для production используйте уникальные пароли и UUID
# ═══════════════════════════════════════════════════════════════
